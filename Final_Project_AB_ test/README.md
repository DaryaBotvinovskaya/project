# Анализ результатов A/B-теста по внедрению улучшенной рекомендательной системы онлайн-магазина

_____

Ваша задача — провести оценку результатов A/B-теста по внедрению улучшенной рекомендательной системы онлайн-магазина. В вашем распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.
    
_____
## Цель исследования:

Оценить корректность проведения теста и проанализировать его результаты.

_____
## Техническое задание:

- Название теста: `recommender_system_test`;
- группы: А — контрольная, B — новая платёжная воронка;
- дата запуска: 2020-12-07;
- дата остановки набора новых пользователей: 2020-12-21;
- дата остановки: 2021-01-04;
- аудитория: в тест должно быть отобрано 15% новых пользователей из региона EU;
- назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- ожидаемое количество участников теста: 6000.
- ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
    - конверсии в просмотр карточек товаров — событие `product_page`,
    - просмотры корзины — `product_cart`,
    - покупки — `purchase`.

## Исходные данные:

`ab_project_marketing_events.csv` — календарь маркетинговых событий на 2020 год.

Структура файла:

- `name` — название маркетингового события;
- `regions` — регионы, в которых будет проводиться рекламная кампания;
- `start_dt` — дата начала кампании;
- `finish_dt` — дата завершения кампании.

`final_ab_new_users.csv` — пользователи, зарегистрировавшиеся с 7 до 21 декабря 2020 года.

Структура файла:

- `user_id` — идентификатор пользователя;
- `first_date` — дата регистрации;
- `region` — регион пользователя;
- `device` — устройство, с которого происходила регистрация.

`final_ab_events.csv` — действия новых пользователей в период с 7 декабря 2020 по 4 января 2021 года.

Структура файла:

- `user_id` — идентификатор пользователя;
- `event_dt` — дата и время события;
- `event_name` — тип события;
- `details` — дополнительные данные о событии. Например, для покупок, `purchase,` в этом поле хранится стоимость покупки в долларах.

`final_ab_participants.csv` — таблица участников тестов.

Структура файла:

- `user_id` — идентификатор пользователя;
- `ab_test` — название теста;
- `group` — группа пользователя.
______

## Используемые библиотеки

pandas, seaborn, Matplotlib, Plotly, numpy, datetime, scipy, math

## Общие выводы

**Вывод по исследовательскому анализу данных:**

- Количество событий на пользователя

Распределение пользователей по событиям между контрольной и тестируемой группами примерно одинаковое. Наибольший процент тестриуемой группы от общего кол-ва событий приходится на событие регистрации пользователей (22%), наименьший - просмотр страницы товара (19.3%)

- Распределение числа событий в выборках по дням

Распределение числа событий между контрольной и тестируемой группами не совсем равномерно, в первые дни теста было примерно одинаковое соотнощение между группами, после 13 декабря и до конца процентное соотношение стабилизировалось и было равно примерно 17%

- Изменение конверсии в воронке событий в выборках на разных этапах

В контрольной группе до момента покупки доходят 32% процента пользователей, а в тестируемой - 28%. Также по всем остальным этапам воронки тестируемая группа проигрывает

**Вывод по оценке результатов A/B-тестирования:**  

- по первому событию - конверсия из регистрации в просмотр карточки товара:

Результат хуже у тестируемой группы на 9%

- по второму событию - конверсия из регистрации в добавдление товаров в корзину покупок

Результат хуже у тестируемой группы на 2.6%

- по третьему событию - конверсия из регистрации в оплату товаров

Результат хуже у тестируемой группы на 4.4%

Таким образом тестируемая группа проигрывает контрольной на всех этапах воронки событий. Ожидаемого уровня прироста в 10% не наблюдается.

**Вывод по корректности проведения теста:**

Соответствие данных требованиям технического задания

- Все пользователи зарегистрировались в период с 7 до 21 декабря 2020 года.

- Тест остановлен на 5 дней раньше, и это критическая ошибка сбора данных

- В тест отобрано 15% новых пользователей из Европы (региона EU)

- Жизненный цикл у 270 пользователей не соответсвует ТЗ
    
- Время проведения теста совпадает с маркетинговыми и другими активностями, но на результат это не повлияло
    
- Между нашим и конкурирующим тестами есть пересечения, в них приняли участие 823 пользователя
    
- Нет пользователей, участвующих в двух группах теста одновременно
    
- Аудитория теста не равномерно распределена по тестовым группам. В контрольной группе в 3.5 раз больше пользователей
    
- Аудитория теста правильно сформирована
    
- Ожидаемое количество участников теста: 6000, не соответсвует у нас - 3313 пользователей.

Нельзя сказать, что тест проведен корректно: тест остановлен на 5 дней раньше, и это критическая ошибка сбора данных, выборка очищенных данных в два раза меньше ожидаемого. Необходимо провести тест заново.

